import{ba as Y,da as Z,h as X,pa as ee,qa as te,sa as ie}from"./chunk-LDKQFZZL.js";import{a as Q}from"./chunk-J6BVVYJG.js";import{Ab as _,Bb as K,Cb as U,J as N,Kb as r,La as u,Lb as d,Mb as H,Ob as q,Pb as J,U as j,Va as a,Y as z,ea as y,fc as L,ib as M,ja as m,jb as I,k as O,kb as G,lb as $,mb as W,nb as c,ob as o,pa as F,pb as n,q as k,qa as A,qb as s,rb as l,sb as f,tb as V,u as B,yb as R,zb as x}from"./chunk-XNQVTC2U.js";var h=class i{product;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=a({type:i,selectors:[["app-product-card"]],inputs:{product:"product"},decls:10,vars:1,consts:[[1,"product-card"],["src","product.jpg","alt",`product
`,1,"product-card__image"],[1,"product-card__desc"],[1,"product-card__title"],[1,"product-card__price"],[1,"product-card__price-value"],[1,"product-card__price-text"]],template:function(t,p){t&1&&(l(0,"div",0),V(1,"img",1),l(2,"div",2)(3,"span",3),r(4),f(),l(5,"div",4)(6,"span",5),r(7," 355 028,40 \u20BD "),f(),l(8,"div",6),r(9," \u0426\u0435\u043D\u0430 \u0437\u0430 \u0442\u043E\u043D\u043D\u0443 \u0441 \u043D\u0434\u0441 "),f()()()()),t&2&&(u(4),d(" ",p.product.name," "))},styles:[".product-card[_ngcontent-%COMP%]{cursor:pointer;background-color:#2f2f2f;width:100%;height:100%;border-radius:12px}.product-card__image[_ngcontent-%COMP%]{border-radius:12px}.product-card__title[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:300}.product-card__desc[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:space-between;gap:10px}.product-card__image[_ngcontent-%COMP%]{width:100%;height:164px}.product-card__price-value[_ngcontent-%COMP%]{color:#fff;font-weight:500;font-size:20px}.product-card__price-text[_ngcontent-%COMP%]{font-weight:300;font-size:11px;color:#939393}"],changeDetection:0})};function re(i,e){if(i&1&&s(0,"tui-icon",1),i&2){let t=_();c("icon",t.iconStart)}}function pe(i,e){if(i&1&&s(0,"tui-icon",1),i&2){let t=_();c("icon",t.iconEnd)}}var w=class i{iconStart;iconEnd;placeholder;value="";disabled=!1;onChange=()=>{};onTouched=()=>{};writeValue(e){this.value=e??""}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=a({type:i,selectors:[["app-input"]],inputs:{iconStart:"iconStart",iconEnd:"iconEnd",placeholder:"placeholder"},decls:4,vars:5,consts:[[1,"icon-input"],[3,"icon"],["type","text",3,"input","blur","value","disabled","placeholder"]],template:function(t,p){t&1&&(o(0,"div",0),M(1,re,1,1,"tui-icon",1),o(2,"input",2),x("input",function(D){return p.onChange(D.target.value)})("blur",function(){return p.onTouched()}),n(),M(3,pe,1,1,"tui-icon",1),n()),t&2&&(u(),I(p.iconStart?1:-1),u(),c("value",p.value)("disabled",p.disabled)("placeholder",p.placeholder),u(),I(p.iconEnd?3:-1))},dependencies:[ie],styles:[".icon-input[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;border:1px solid #272829;transition:border-color .2s;border-radius:32px;background:#272829;color:#a0a2a8;padding:12px 16px}.icon-input[_ngcontent-%COMP%]:focus-within{border-color:#a0a2a8}.icon-input[_ngcontent-%COMP%]   i.start[_ngcontent-%COMP%]{margin-right:6px}.icon-input[_ngcontent-%COMP%]   i.end[_ngcontent-%COMP%]{margin-left:6px}.icon-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{line-height:20px;font-weight:400;border:none;outline:none;flex:1;background:transparent;color:#a0a2a8;font-size:16px}"],changeDetection:0})};var P=class{id;idCat;idType;idTypeNew;productionType;name;manufacturer;steelGrade;diameter;gost;profileSize2;pipeWallThickness;status;koef;constructor(e){this.id=e.id,this.idCat=e.idCat,this.idType=e.idType,this.idTypeNew=e.idTypeNew,this.productionType=this.getProductionType(e.productionType),this.name=e.name,this.manufacturer=e.manufacturer,this.steelGrade=e.steelGrade,this.diameter=e.diameter,this.profileSize2=e.profileSize2,this.pipeWallThickness=e.pipeWallThickness,this.status=this.getStatus(e.status),this.koef=e.koef,this.gost=e.gost}getStatus(e){return 0}getProductionType(e){return 0}};var v=class i extends Q{constructor(){super("products")}static \u0275fac=function(t){return new(t||i)};static \u0275prov=y({token:i,factory:i.\u0275fac})};var oe=[{id:"p1",idCat:"cat1",idType:"type1",idTypeNew:"typeNew1",productionType:"hot-rolled",name:"\u0422\u0440\u0443\u0431\u0430 \u0441\u0442\u0430\u043B\u044C\u043D\u0430\u044F 108x4",manufacturer:"\u0421\u0435\u0432\u0435\u0440\u0441\u0442\u0430\u043B\u044C",steelGrade:"09\u04132\u0421",diameter:108,gost:"\u0413\u041E\u0421\u0422 8732-78",profileSize2:0,pipeWallThickness:4,status:"active",koef:1.05},{id:"p2",idCat:"cat2",idType:"type2",idTypeNew:"typeNew2",productionType:"cold-drawn",name:"\u0422\u0440\u0443\u0431\u0430 \u0431\u0435\u0441\u0448\u043E\u0432\u043D\u0430\u044F 57x3,5",manufacturer:"\u0427\u0422\u041F\u0417",steelGrade:"20",diameter:57,gost:"\u0413\u041E\u0421\u0422 8734-75",profileSize2:0,pipeWallThickness:3.5,status:"inactive",koef:.98},{id:"p3",idCat:"cat1",idType:"type3",idTypeNew:"typeNew3",productionType:"welded",name:"\u041F\u0440\u043E\u0444\u0438\u043B\u044C\u043D\u0430\u044F \u0442\u0440\u0443\u0431\u0430 60x40x3",manufacturer:"\u0422\u041C\u041A",steelGrade:"\u0421\u04423",diameter:60,gost:"\u0413\u041E\u0421\u0422 30245-2003",profileSize2:40,pipeWallThickness:3,status:"active",koef:1.1},{id:"p4",idCat:"cat3",idType:"type4",idTypeNew:"typeNew4",productionType:"hot-rolled",name:"\u041A\u0440\u0443\u0433 45",manufacturer:"\u041C\u0435\u0447\u0435\u043B",steelGrade:"45",diameter:45,gost:"\u0413\u041E\u0421\u0422 2590-2006",profileSize2:0,pipeWallThickness:0,status:"active",koef:1},{id:"p5",idCat:"cat2",idType:"type1",idTypeNew:"typeNew5",productionType:"cold-drawn",name:"\u0422\u0440\u0443\u0431\u0430 \u043E\u0446\u0438\u043D\u043A\u043E\u0432\u0430\u043D\u043D\u0430\u044F 25x2",manufacturer:"\u041E\u041C\u041A",steelGrade:"08\u042518\u041D10",diameter:25,gost:"\u0413\u041E\u0421\u0422 3262-75",profileSize2:0,pipeWallThickness:2,status:"archived",koef:.9}];var C=class i{api=m(v);filters$=new O({});products$=this.filters$.pipe(z(e=>k(oe).pipe(B(t=>t.map(p=>new P(p))))),j(1));reload(e){this.filters$.next(e||{})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=y({token:i,factory:i.\u0275fac})};var ue=["*"],S=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=a({type:i,selectors:[["app-button"]],ngContentSelectors:ue,decls:2,vars:0,consts:[[1,"button"]],template:function(t,p){t&1&&(K(),l(0,"button",0),U(1),f())},styles:[".button[_ngcontent-%COMP%]{cursor:pointer;background-color:#f75c19;padding:14px;color:#fff;font-size:16px;font-weight:500;width:100%;border-radius:100px}"],changeDetection:0})};var E=class i{dialogs=m(ee);context=Z();get product(){return this.context.data}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=a({type:i,selectors:[["ng-component"]],decls:54,vars:6,consts:[[1,"product-overview"],[1,"product-overview__block"],["src","product.jpg",1,"product-overview__image",3,"alt"],[1,"product-overview__title"],[1,"product-overview__list"],[1,"product-overview__list-line"],[1,"product-overview__group"],[1,"product-overview__group-title"],[1,"product-overview__group-value"],[1,"product-overview__block-title"],[1,"product-overview__desc"],[1,"product-overview__desc-item"],[1,"product-overview__desc-title"],[1,"product-overview__desc-value"]],template:function(t,p){t&1&&(o(0,"div",0)(1,"div",1),s(2,"img",2),o(3,"h3",3),r(4),n(),o(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),r(9," \u041D\u0422\u0414 "),n(),o(10,"span",8),r(11),n()(),o(12,"div",6)(13,"span",7),r(14," \u0420\u0430\u0437\u043C\u0435\u0440 "),n(),o(15,"span",8),r(16),n()()(),o(17,"div",5)(18,"div",6)(19,"span",7),r(20," \u041C\u0430\u0440\u043A\u0430 \u0441\u0442\u0430\u043B\u0438 "),n(),o(21,"span",8),r(22),n()(),o(23,"div",6)(24,"span",7),r(25," \u0422\u043E\u043B\u0449\u0438\u043D\u0430 "),n(),o(26,"span",8),r(27),n()()()()(),o(28,"div",1)(29,"span",9),r(30," \u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 "),n(),o(31,"div",10)(32,"div",11)(33,"span",12),r(34," \u041D\u0430\u043B\u0438\u0447\u0438\u0435 \u043D\u0430 \u0441\u043A\u043B\u0430\u0434\u0435 "),n(),o(35,"span",13),r(36," \u041C\u0435\u0440\u043D\u043E\u0441\u0442\u044C \u0434\u043B\u0438\u043D\u044B "),n()(),o(37,"div",11)(38,"span",12),r(39," \u041C\u0435\u0440\u043D\u043E\u0441\u0442\u044C \u0434\u043B\u0438\u043D\u044B "),n(),o(40,"span",13),r(41," \u041C\u0435\u0440\u043D\u043E\u0441\u0442\u044C \u0434\u043B\u0438\u043D\u044B "),n()(),o(42,"div",11)(43,"span",12),r(44," \u0422\u0438\u043F \u043A\u043E\u043D\u0446\u043E\u0432 "),n(),o(45,"span",13),r(46," \u041C\u0435\u0440\u043D\u043E\u0441\u0442\u044C \u0434\u043B\u0438\u043D\u044B "),n()(),o(47,"div",11)(48,"span",12),r(49," \u041F\u0440\u0438\u0437\u043D\u0430\u043A \u0442\u0435\u0440\u043C\u043E\u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438 "),n(),o(50,"span",13),r(51," \u041C\u0435\u0440\u043D\u043E\u0441\u0442\u044C \u0434\u043B\u0438\u043D\u044B "),n()()()(),o(52,"app-button"),r(53," \u0412 \u043A\u043E\u0440\u0437\u0438\u043D\u0443 "),n()()),t&2&&(u(2),c("alt",p.product.name),u(2),d(" ",p.product.name," "),u(7),d(" ",p.product.gost," "),u(5),d(" ",p.product.profileSize2," "),u(6),d(" ",p.product.steelGrade," "),u(5),d(" ",p.product.diameter," "))},dependencies:[S],styles:[".product-overview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.product-overview__block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;background-color:#2a2a2a;padding:12px;border-radius:12px}.product-overview__block-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.product-overview__desc[_ngcontent-%COMP%]{max-width:335px;width:100%;display:flex;flex-wrap:wrap;font-weight:300}.product-overview__desc-item[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.product-overview__desc-title[_ngcontent-%COMP%]{color:#b0b0b0}.product-overview__image[_ngcontent-%COMP%]{width:100%;border-radius:12px}.product-overview__title[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#fff}.product-overview__list[_ngcontent-%COMP%]{max-width:335px;width:100%;align-items:center;justify-content:center;color:#fff;display:flex;flex-direction:column;gap:20px;font-size:16px;font-weight:300}.product-overview__list-line[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.product-overview__group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.product-overview__group-title[_ngcontent-%COMP%]{color:#b0b0b0}"],changeDetection:0})};function ae(i,e){if(i&1){let t=R();o(0,"app-product-card",6),x("click",function(){let T=F(t).$implicit,D=_();return A(D.openProduct(T))}),n()}if(i&2){let t=e.$implicit;c("product",t)}}var ne=class i{productsStore=m(C);dialog=te(E,{dismissible:!0,label:"Heading"});products$=this.productsStore.products$;openProduct(e){this.dialog(e).pipe(N(1)).subscribe()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=a({type:i,selectors:[["ng-component"]],features:[H([C,v])],decls:9,vars:2,consts:[[1,"products-page"],[1,"products-page__search"],["placeholder","\u041F\u043E\u0438\u0441\u043A","iconStart","@tui.search",1,"products-page__search-input"],["appearance","secondary-destructive","iconStart","@tui.settings-2","size","l","tuiIconButton","","type","button",1,"products-page__search-action"],[1,"products-page__list"],[3,"product"],[3,"click","product"]],template:function(t,p){t&1&&(o(0,"div",0)(1,"div",1),s(2,"app-input",2),o(3,"button",3),r(4," Settings "),n()(),o(5,"div",4),$(6,ae,1,1,"app-product-card",5,G),q(8,"async"),n()()),t&2&&(u(6),W(J(8,0,p.products$)))},dependencies:[h,X,w,Y,L],styles:[".products-page__list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(163px,1fr));gap:10px}.products-page__search[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:space-between;margin-bottom:24px}.products-page__search-input[_ngcontent-%COMP%]{width:100%}.products-page__search-action[_ngcontent-%COMP%]{color:#fff;border-radius:100%;border:1px solid #4C4E51}"],changeDetection:0})};export{ne as ProductsPageComponent};
